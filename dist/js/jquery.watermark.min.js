!function($){var old_ie=/MSIE [1-7]\./.test(navigator.userAgent),hard_left=4;$.watermarker=function(){},$.extend($.watermarker,{defaults:{color:"#999",left:0,top:0,fallback:!1,animDuration:300,minOpacity:.6},setDefaults:function(settings){$.extend($.watermarker.defaults,settings)},checkVal:function(val,label){return 0===val.length?$(label).show():$(label).hide(),val.length>0},html5_support:function(){var i=document.createElement("input");return"placeholder"in i}}),$.fn.watermark=function(text,options){var elems;return options=$.extend({},$.watermarker.defaults,options),elems=this.filter("textarea, input:not(:checkbox,:radio,:file,:submit,:reset)"),options.fallback&&$.watermarker.html5_support()?this:(elems.each(function(){var $elem,attr_name,label_text,watermark_container,watermark_label,control_id,e_margin_left,e_height,e_top=0;$elem=$(this),control_id=$elem.attr("id"),"processed"!==$elem.attr("data-jq-watermark")&&(attr_name=void 0!==$elem.attr("placeholder")&&""!==$elem.attr("placeholder")?"placeholder":"title",label_text=void 0===text||""===text?$(this).attr(attr_name):text,watermark_container=$('<span class="watermark_container"></span>'),watermark_label=$('<label class="watermark" for="'+control_id+'">'+label_text+"</label>"),"placeholder"===attr_name&&$elem.removeAttr("placeholder"),watermark_container.css({display:"inline-block",position:"relative"}),"true"===$elem.attr("data-percent-width")&&watermark_container.css("width","100%"),"true"===$elem.attr("data-percent-height")&&watermark_container.css("height","100%"),old_ie&&watermark_container.css({zoom:1,display:"inline"}),$elem.wrap(watermark_container).attr("data-jq-watermark","processed"),"textarea"===this.nodeName.toLowerCase()?(e_height=parseInt($elem.css("line-height"),10),e_height="normal"===e_height?parseInt($elem.css("font-size"),10):e_height,e_top="auto"!==$elem.css("padding-top")?parseInt($elem.css("padding-top"),10):0):(e_height=$elem.outerHeight(),0>=e_height&&(e_height="auto"!==$elem.css("padding-top")?parseInt($elem.css("padding-top"),10):0,e_height+="auto"!==$elem.css("padding-bottom")?parseInt($elem.css("padding-bottom"),10):0,e_height+="auto"!==$elem.css("height")?parseInt($elem.css("height"),10):0)),e_top+="auto"!==$elem.css("margin-top")?parseInt($elem.css("margin-top"),10):0,e_margin_left="auto"!==$elem.css("margin-left")?parseInt($elem.css("margin-left"),10):0,e_margin_left+="auto"!==$elem.css("padding-left")?parseInt($elem.css("padding-left"),10):0,watermark_label.css({position:"absolute",display:"block",fontFamily:$elem.css("font-family"),fontSize:$elem.css("font-size"),color:options.color,left:hard_left+options.left+e_margin_left,top:options.top+e_top,height:e_height,lineHeight:e_height+"px",textAlign:"left",pointerEvents:"none"}),$.watermarker.checkVal($elem.val(),watermark_label),control_id||watermark_label.data("jq_watermark_element",$elem).click(function(){$($(this).data("jq_watermark_element")).trigger("click").trigger("focus")}),$elem.before(watermark_label).bind("focus.jq_watermark",function(){$.watermarker.checkVal($(this).val(),watermark_label)||watermark_label.stop().fadeTo(options.animDuration,options.minOpacity)}).bind("blur.jq_watermark change.jq_watermark",function(){$.watermarker.checkVal($(this).val(),watermark_label)||watermark_label.stop().fadeTo(options.animDuration,1)}).bind("keydown.jq_watermark, paste.jq_watermark",function(e){$(watermark_label).hide()}).bind("keyup.jq_watermark",function(e){$.watermarker.checkVal($(this).val(),watermark_label)}))}),this)},$(function(){$(".jq_watermark").watermark()})}(jQuery);